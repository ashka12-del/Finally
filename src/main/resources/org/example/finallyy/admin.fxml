<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="720.0" prefWidth="1080.0" style="-fx-background-color: linear-gradient(to bottom right, #2b1055, #000000);" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.finallyy.AdminController">
    <children>
        <!-- Sidebar Navigation -->
        <VBox prefHeight="720.0" prefWidth="240.0" style="-fx-background-color: rgba(255, 255, 255, 0.05); -fx-backdrop-filter: blur(15px); -fx-border-color: rgba(255,255,255,0.1); -fx-border-width: 0 1 0 0;">
            <children>
                <Label alignment="CENTER" prefHeight="100.0" prefWidth="240.0" text="ADMIN PANEL" textFill="WHITE">
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>
                <Button mnemonicParsing="false" onAction="#showDashboard" prefHeight="50.0" prefWidth="240.0" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" text="ðŸ“Š Dashboard Overview" />
                <Button mnemonicParsing="false" onAction="#showRegistrationQueue" prefHeight="50.0" prefWidth="240.0" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" text="ðŸ“œ Registration Queue" />
                <Button mnemonicParsing="false" onAction="#showConsultationLogs" prefHeight="50.0" prefWidth="240.0" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" text="ðŸ¥ Consultation Logs" />
                <Button mnemonicParsing="false" onAction="#showPrintHistory" prefHeight="50.0" prefWidth="240.0" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-cursor: hand;" text="ðŸ–¨ï¸ Print History" />
                <Region VBox.vgrow="ALWAYS" />
                <Button fx:id="logoutBtn" mnemonicParsing="false" onAction="#handleLogout" prefHeight="50.0" prefWidth="240.0" style="-fx-background-color: #ff4757; -fx-text-fill: white; -fx-font-weight: bold;" text="Logout" />
            </children>
        </VBox>

        <!-- Main Content Area -->
        <ScrollPane layoutX="240.0" prefHeight="720.0" prefWidth="840.0" style="-fx-background-color: transparent; -fx-background: transparent; -fx-border-color: transparent;">
            <content>
                <StackPane fx:id="contentArea" prefWidth="820.0">
                    <padding>
                        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                    </padding>
                    <children>

                        <!-- 1. Dashboard Overview Pane -->
                        <VBox fx:id="paneDashboard" spacing="25.0">
                            <children>
                                <Label text="Admin Analytics Dashboard" textFill="WHITE">
                                    <font>
                                        <Font name="System Bold" size="32.0" />
                                    </font>
                                </Label>
                                <GridPane hgap="20.0" vgap="20.0">
                                    <columnConstraints>
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                    </columnConstraints>
                                    <rowConstraints>
                                        <RowConstraints minHeight="140.0" prefHeight="140.0" vgrow="SOMETIMES" />
                                        <RowConstraints minHeight="140.0" prefHeight="140.0" vgrow="SOMETIMES" />
                                    </rowConstraints>
                                    <children>
                                        <VBox style="-fx-background-color: rgba(142, 68, 173, 0.15); -fx-background-radius: 20; -fx-padding: 25; -fx-border-color: #8e44ad; -fx-border-radius: 20; -fx-border-width: 2;">
                                            <children>
                                                <Label text="Active Users" textFill="#bdc3c7"><font><Font size="14.0" /></font></Label>
                                                <Label fx:id="activeUsersText" text="0" textFill="WHITE"><font><Font name="System Bold" size="42.0" /></font></Label>
                                            </children>
                                        </VBox>
                                        <VBox style="-fx-background-color: rgba(41, 128, 185, 0.15); -fx-background-radius: 20; -fx-padding: 25; -fx-border-color: #2980b9; -fx-border-radius: 20; -fx-border-width: 2;" GridPane.columnIndex="1">
                                            <children>
                                                <Label text="Print Jobs Completed" textFill="#bdc3c7"><font><Font size="14.0" /></font></Label>
                                                <Label fx:id="printRequestsText" text="0" textFill="WHITE"><font><Font name="System Bold" size="42.0" /></font></Label>
                                            </children>
                                        </VBox>
                                        <VBox style="-fx-background-color: rgba(39, 174, 96, 0.15); -fx-background-radius: 20; -fx-padding: 25; -fx-border-color: #27ae60; -fx-border-radius: 20; -fx-border-width: 2;" GridPane.rowIndex="1">
                                            <children>
                                                <Label text="Registration Requests" textFill="#bdc3c7"><font><Font size="14.0" /></font></Label>
                                                <Label fx:id="regRequestsText" text="0" textFill="WHITE"><font><Font name="System Bold" size="42.0" /></font></Label>
                                            </children>
                                        </VBox>
                                        <VBox style="-fx-background-color: rgba(230, 126, 34, 0.15); -fx-background-radius: 20; -fx-padding: 25; -fx-border-color: #e67e22; -fx-border-radius: 20; -fx-border-width: 2;" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                            <children>
                                                <Label text="Consultation Completed" textFill="#bdc3c7"><font><Font size="14.0" /></font></Label>
                                                <Label fx:id="consultationReqText" text="0" textFill="WHITE"><font><Font name="System Bold" size="42.0" /></font></Label>
                                            </children>
                                        </VBox>
                                    </children>
                                </GridPane>
                            </children>
                        </VBox>

                        <!-- 2. Registration Queue Pane -->
                        <VBox fx:id="paneRegistration" spacing="20.0" visible="false">
                            <children>
                                <Label text="Pending Student Registrations" textFill="WHITE">
                                    <font><Font name="System Bold" size="28.0" /></font>
                                </Label>
                                <TableView fx:id="regTable" prefHeight="550.0" prefWidth="760.0" style="-fx-background-color: rgba(255,255,255,0.05);">
                                    <columns>
                                        <TableColumn fx:id="colId" prefWidth="120.0" text="Student ID" />
                                        <TableColumn fx:id="colName" prefWidth="220.0" text="Username" />
                                        <TableColumn fx:id="colRole" prefWidth="120.0" text="Role" />
                                        <TableColumn fx:id="colAction" prefWidth="260.0" text="Action (Accept/Reject)" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>

                        <!-- 3. Consultation History Pane -->
                        <VBox fx:id="paneConsultation" visible="false" spacing="20.0">
                            <children>
                                <Label text="Consultation History" textFill="WHITE"><font><Font name="System Bold" size="28.0" /></font></Label>
                                <TableView fx:id="consultationTable" prefHeight="550.0" prefWidth="760.0" style="-fx-background-color: rgba(255,255,255,0.05);">
                                    <columns>
                                        <TableColumn prefWidth="150.0" text="Patient ID" />
                                        <TableColumn prefWidth="300.0" text="Doctor/Reason" />
                                        <TableColumn prefWidth="200.0" text="Status" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>

                        <!-- 4. Print History Pane -->
                        <VBox fx:id="panePrint" visible="false" spacing="20.0">
                            <children>
                                <Label text="Print Service Logs" textFill="WHITE"><font><Font name="System Bold" size="28.0" /></font></Label>
                                <TableView fx:id="printTable" prefHeight="550.0" prefWidth="760.0" style="-fx-background-color: rgba(255,255,255,0.05);">
                                    <columns>
                                        <TableColumn prefWidth="150.0" text="Job ID" />
                                        <TableColumn prefWidth="300.0" text="File Name" />
                                        <TableColumn prefWidth="200.0" text="Result" />
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>

                    </children>
                </StackPane>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>